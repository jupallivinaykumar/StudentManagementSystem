{% extends 'core/admin_dashboard.html' %}
{% block content %}
<div class="container mt-4">
    <h2>{{ title }}</h2>
    <p>Are you sure you want to delete "{{ object }}"?</p>
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        {% endfor %}
    {% endif %}
    <form action="" method="post"> {# Action is left empty to post to the current URL #}
        {% csrf_token %}
        <button type="submit" class="btn btn-danger">Yes, Delete</button>
        {# Dynamic redirect based on URL name for consistency #}
        {% if 'course' in request.path and not 'subject' in request.path %}
            <a href="{% url 'manage_courses' %}" class="btn btn-secondary">Cancel</a>
        {% elif 'session' in request.path %}
            <a href="{% url 'manage_session_years' %}" class="btn btn-secondary">Cancel</a>
        {% elif 'staff' in request.path %}
            <a href="{% url 'manage_staff' %}" class="btn btn-secondary">Cancel</a>
        {% elif 'student' in request.path %}
            <a href="{% url 'manage_students' %}" class="btn btn-secondary">Cancel</a>
        {% elif 'subject' in request.path %}
            <a href="{% url 'manage_subjects' %}" class="btn btn-secondary">Cancel</a>
        {% else %}
            <a href="{% url 'admin_dashboard' %}" class="btn btn-secondary">Cancel</a> {# Fallback #}
        {% endif %}
    </form>
</div>
{% endblock %}